<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<style>
body { font-family:'Segoe UI', Tahoma; margin:0; background:#f4f4f9; }
header { background:#6a85b6; color:white; padding:20px; text-align:center; font-size:1.5em; }
.logout-btn { position:absolute; right:20px; top:20px; background:#bac8e0; border:none; padding:8px 12px; border-radius:6px; cursor:pointer; transition:0.3s; }
.logout-btn:hover { background:#6a85b6; color:white; }
table { width:100%; border-collapse: collapse; margin-top:20px; }
th, td { padding:12px; text-align:left; border-bottom:1px solid #ccc; }
tr:hover { background: #e0e0e0; transform: scale(1.02); transition: 0.2s; }
h1 { margin-left:20px; margin-top:20px; }
</style>
</head>
<body>
<header>
    Dashboard ðŸŒŸ
    <button class="logout-btn" onclick="logout()">Logout</button>
</header>
<h1>Users List</h1>
<table id="users-table">
    <thead>
        <tr><th>ID</th><th>Username</th></tr>
    </thead>
    <tbody></tbody>
</table>

<script>
async function fetchUsers(){
    const res = await fetch('/api/users');
    const data = await res.json();
    if(res.status===200){
        const tbody = document.querySelector('#users-table tbody');
        tbody.innerHTML = '';
        data.users.forEach(u=>{
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${u.id}</td><td>${u.username} ðŸ‘¤</td>`;
            tbody.appendChild(tr);
        });
    } else {
        alert("Failed to fetch users.");
    }
}
async function logout(){
    await fetch('/api/logout', {method:'POST'});
    window.location.href = '/';
}
window.onload = fetchUsers;
</script>
</body>
</html>
